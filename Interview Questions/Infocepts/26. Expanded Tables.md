## 26. Can you explain **Expanded Tables** in DAX and why they matter?

#### What is an Expanded Table?
*   An expanded table is not a physical object you can see, but a crucial concept in how the DAX engine thinks about relationships.
*   An expanded table includes all the native columns of the base table *plus* all the columns from all related tables on the "one" side of its relationships.
*   Essentially, it's the engine's internal, conceptual view of a table after `RELATED()` has been applied for every possible column from the "one" side.
*   For example, the expanded `Sales` table contains all its own columns (`SalesAmount`, `Quantity`, `OrderDateKey`, `ProductKey`) AND all the columns from the `Product` table (`ProductName`, `Category`, `Color`) AND all the columns from the `Date` table (`Year`, `Month`, `Day`).

#### Why They Matter
*   **Understanding Function Behavior:** Many DAX functions, particularly iterators and filter functions, operate on expanded tables.
    *   When you write `FILTER('Sales', 'Product'[Category] = "Bikes")`, DAX isn't just looking at the `Sales` table. It's conceptually looking at the *expanded* `Sales` table, which includes the `Product[Category]` column, so it can perform the filter directly. This explains why you can filter a fact table using columns from a dimension table without explicitly using `RELATED()`.
*   **Context Transition:** When context transition occurs on a row from a table, it creates filters for *all columns in the expanded table*. This is a subtle but critical point. If your `Sales` table has relationships to 10 dimension tables, a context transition on a single row of `Sales` will generate filters for columns from all 11 tables (the fact + 10 dimensions). This can be computationally expensive if not managed carefully.
*   **Bidirectional Relationships:** Expanded tables help explain the danger of bidirectional filters. When a filter can flow from many-to-one, the expanded table concept becomes recursive and ambiguous, which can lead to performance issues and incorrect results as the engine struggles to define the boundaries of the table.
