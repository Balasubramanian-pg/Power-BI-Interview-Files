#### **9. Advanced Concepts**

*   **Custom Functions:** Create your own reusable logic.
    ```m
    // (parameter1 as type, parameter2 as type) => calculation
    (Name as text) as text => "Hello, " & Name
    ```

*   **Pivoting / Unpivoting:**
    *   `Table.UnpivotOtherColumns`: The most common way to transform a "wide" table to a "long" table.
    *   `Table.Pivot`: Transforms a "long" table to a "wide" table.

*   **Query Folding:** This is when Power Query translates your M steps into the native language of the source (e.g., SQL). **This is the single most important concept for performance with databases.**
    *   **To preserve folding:** Use transformations that can be translated to SQL (filter, sort, group, join).
    *   **To break folding:** Using M functions that don't have a SQL equivalent (like `Table.AddIndexColumn`) will force Power BI to load all the data *before* continuing the transformations.

